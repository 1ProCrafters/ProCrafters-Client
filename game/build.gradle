import com.github.glassmc.kiln.standard.MixinRemapper
import io.github.solclient.gradle.SolClientKilnEnvironment

plugins {
	id "com.github.johnrengelman.shadow"
	id "kiln-main"
	id "io.freefair.lombok" version "6.4.3"
}

kiln {
	environment = new SolClientKilnEnvironment()
	transformers += new MixinRemapper()
}

repositories {
	mavenCentral()
	maven { url "https://libraries.minecraft.net" }
	maven { url "https://repo.spongepowered.org/maven" }
	maven { url "https://repo.codemc.io/repository/maven-public" }
	maven { url "https://repo.hypixel.net/repository/Hypixel" }
	maven { url "https://jitpack.io" }
	maven { url "https://glassmc.ml/repository/" }
}

configurations {
	shadowImplementation
	implementation.extendsFrom(shadowImplementation)
}

dependencies {
	implementation "com.github.glassmc:loader:0.9.6"
	annotationProcessor "org.spongepowered:mixin:0.7.11-SNAPSHOT"
	implementation("org.spongepowered:mixin:0.7.11-SNAPSHOT") {
		exclude module: "launchwrapper"
		exclude module: "guava"
		exclude module: "gson"
		exclude module: "commons-io"
	}
	implementation "org.slick2d:slick2d-core:1.0.2"
	shadowImplementation files("libs/occlusionculling.jar")
	implementation "net.hypixel:hypixel-api-core:4.0"

	implementation "com.github.JnCrMx:discord-game-sdk4j:v0.5.4"
	implementation "org.java-websocket:Java-WebSocket:1.5.3"

	implementation "org.apache.logging.log4j:log4j-api:2.17.2"
	implementation "org.apache.logging.log4j:log4j-core:2.17.2"

	implementation "commons-io:commons-io:2.7"
	implementation "org.apache.commons:commons-lang3:3.3.2"
	implementation "net.minecraft:launchwrapper:1.12"

	compileOnly "net.minecraft:client-1.8.9:mcp"
}

shadowJar {
	configurations = [project.configurations.shadowImplementation]
}
